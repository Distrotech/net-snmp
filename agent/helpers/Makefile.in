top_builddir=../..

CPPFLAGS=-I. -I.. -I../.. -I$(srcdir) -I$(srcdir)/.. -I$(srcdir)/../mibgroup \
	-I$(srcdir)/../.. -I$(srcdir)/../../snmplib @CPPFLAGS@ $(LIB_CFLAGS)

OBJS =  multiplexer.o \
	read_only.o \
	instance.o \
	null.o \
	old_api.o \
	serialize.o \
	table_iterator.o \
	table_data.o \
	table.o

LOBJS = multiplexer.lo \
	read_only.lo \
	instance.lo \
	null.lo \
	old_api.lo \
	serialize.lo \
	table_iterator.lo \
	table_data.lo \
	table.lo

SRCS =  multiplexer.c \
	read_only.c \
	instance.c \
	null.c \
	old_api.c \
	serialize.c \
	table_iterator.c \
	table_data.c \
	table.c

all: libhelpers.$(LIB_EXTENSION)$(LIB_VERSION)

libhelpers.$(LIB_EXTENSION)$(LIB_VERSION):    ${LOBJS}
	$(LIB_LD_CMD) libhelpers.$(LIB_EXTENSION)$(LIB_VERSION) ${LOBJS}  $(LIB_LD_LIBS)
	$(RANLIB) libhelpers.$(LIB_EXTENSION)$(LIB_VERSION)

clean:
	rm -f ${LOBJS} ${OBJS}
	rm -rf .libs */.libs

depend: 
	makedepend $(CPPFLAGS) -o.lo $(SRCS)

nosysdepend:
	makedepend $(CPPFLAGS) -o.lo $(SRCS)
	perl -n -i.bak $(top_srcdir)/makenosysdepend.pl Makefile

makefileindepend: nosysdepend
	perl $(top_srcdir)/makefileindepend.pl

# DO NOT DELETE THIS LINE -- make depend depends on it.

